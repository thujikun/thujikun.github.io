<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: jsdoc | Thujikun blog]]></title>
  <link href="http://thujikun.github.io/blog/categories/jsdoc/atom.xml" rel="self"/>
  <link href="http://thujikun.github.io/"/>
  <updated>2014-04-21T22:32:02+09:00</updated>
  <id>http://thujikun.github.io/</id>
  <author>
    <name><![CDATA[Ryosuke Tsuji]]></name>
    <email><![CDATA[tsuji.0107@gmail.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Gruntのタスク一覧を表示するためのJSDocテンプレートつくってみた]]></title>
    <link href="http://thujikun.github.io/blog/2014/04/21/jsdoc3-grunt-template/"/>
    <updated>2014-04-21T21:18:06+09:00</updated>
    <id>http://thujikun.github.io/blog/2014/04/21/jsdoc3-grunt-template</id>
    <content type="html"><![CDATA[<h1>Gruntのタスク一覧を表示するためのJSDocテンプレートつくってみた</h1>

<p><a href="https://github.com/thujikun/jsdoc3-grunt-template">jsdoc3-grunt-template</a><br/>
最近当たり前のようにGruntで作業環境を構築するようになってきてますが、人によってタスク名とか構成がバラバラになったりで共有とか引き継ぎが大変ですよね。<br/>
わざわざREADMEにタスク一覧書いたりすることもありますが、一回書いたはいいけど更新せずに風化していくこともしばしば。<br/>
そこで、jsファイルなんだからJSDocでドキュメント作っちゃいえばいいじゃんってことでGruntに特化させたシンプルなテンプレートつくってみました。</p>

<h2>DEMO</h2>

<p>出来上がるファイルとしては<a href="http://kabocha.orz.hm/labo/jsdoc3-grunt-template-demo/">こちら</a>のようなフォーマットになります。</p>

<h2>使い方</h2>

<h3>プロジェクトのディレクトリでgrunt-jsdocのインストール</h3>

<p><code>
npm install grunt-jsdoc --save-dev
</code></p>

<h3>テンプレートファイルをプロジェクトフォルダ内のどこかにcloneする</h3>

<p>（ここではjs-doc-templates/ディレクトリとする）</p>

<p><code>
cd jsdoc-templates/
git clone git@github.com:thujikun/jsdoc3-grunt-template.git
</code></p>

<h3>JSDocを作成するためのGruntタスクを作成</h3>

<p>```
jsdoc: {</p>

<pre><code>dist: {
    src: [
        './Gruntfile.js'
    ],
    options: {
        destination: 'docs/grunt/',
        configure: 'jsdoc-templates/jsdoc3-grunt-template/jsdoc.conf.json',
        template: 'jsdoc-templates/jsdoc3-grunt-template'
    },
},
</code></pre>

<p>}
```</p>

<h3>Gruntfile.jsにJSDoc形式のコメントを記述</h3>

<p>※ シンプルにするために、@functionと@desc以外は無視しています。</p>

<p>```
/<em>*
 * @function grunt
 * @desc default grunt task
 </em>/
grunt.registerTask(&lsquo;default&rsquo;, [</p>

<pre><code>'your tasks'
</code></pre>

<p>]);</p>

<p>/<em>*
 * @function grunt serve
 * @desc create server and watch
 </em>/
grunt.registerTask(&lsquo;serve&rsquo;, [</p>

<pre><code>'connect',
'watch'
</code></pre>

<p>]);
```</p>

<h3>ドキュメントのタイトルの修正はjsdoc.conf.jsonのtemplate.titleを修正</h3>

<p>```
{</p>

<pre><code>"tags"      : {
    "allowUnknownTags" : true
},
"plugins"   : ["plugins/markdown"],
"templates" : {
    "title" : "Your JSDoc Document Name"
},
"markdown"  : {
    "parser"   : "gfm",
    "hardwrap" : true
}
</code></pre>

<p>}
```</p>

<p>最後に
<code>
grunt jsdoc
</code>
を実行すれば指定したディレクトリにタスク一覧が出力されます。</p>

<p><a href="https://github.com/thujikun/jsdoc3-grunt-template/tree/master/demo">demo</a>もおいてあるので参考にしてみてください。</p>

<p><a href="https://github.com/thujikun/jsdoc3-grunt-template">jsdoc3-grunt-template</a></p>
]]></content>
  </entry>
  
</feed>
